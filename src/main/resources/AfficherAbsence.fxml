<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane xmlns="http://javafx.com/javafx/21.0.2"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="esprit.tn.controllers.AfficherAbsenceController"
            stylesheets="@css/style.css"
            prefHeight="600" prefWidth="900"
            style="-fx-background-color: linear-gradient(to right, #87BFFF, #3F8EFC);">

    <children>
        <!-- Titre avec icône -->
        <HBox layoutX="320" layoutY="20" spacing="10">
            <Label text="📋 Liste des Absences"
                   style="-fx-font-size: 24px; -fx-text-fill: white; -fx-font-weight: bold;"/>
        </HBox>

        <!-- Zone de recherche -->
        <HBox layoutX="250" layoutY="70" spacing="10">
            <TextField fx:id="searchField" promptText="Rechercher par nom ou séance"
                       style="-fx-font-size: 14px; -fx-background-radius: 10px; -fx-padding: 5px;"/>
            <Button fx:id="searchButton" text="🔍 Rechercher" onAction="#rechercherAbsence"
                    style="-fx-background-color: #2667FF; -fx-text-fill: white; -fx-font-size: 14px; -fx-background-radius: 10px;"/>
            <Button fx:id="resetButton" text="🔄 Réinitialiser" onAction="#resetSearch"
                    style="-fx-background-color: #FF6600; -fx-text-fill: white; -fx-font-size: 14px; -fx-background-radius: 10px;"/>
        </HBox>

        <!-- Tableau des absences -->
        <TableView fx:id="tableViewAbsences" layoutX="50" layoutY="120" prefHeight="350" prefWidth="800"
                   style="-fx-background-radius: 12px; -fx-border-radius: 12px;">
            <columns>
                <TableColumn fx:id="columnSeanceTitre" text="Séance" prefWidth="150"/>
                <TableColumn fx:id="columnEleveName" text="Nom Élève" prefWidth="200"/>
                <TableColumn fx:id="columnEtat" text="État" prefWidth="100"/>
                <TableColumn fx:id="columnCommentaire" text="Commentaire" prefWidth="250"/>
            </columns>
        </TableView>

        <!-- Boutons avec icônes -->
        <HBox layoutX="250" layoutY="500" spacing="20">
            <Button fx:id="returnButton" text="⬅ Retour" onAction="#retour"
                    style="-fx-background-color: #FF4747; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10px 15px; -fx-background-radius: 10px;"/>

            <Button fx:id="btnExport" text="📄 Exporter Absences" onAction="#exportAbsences"
                    style="-fx-background-color: #28A745; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10px 15px; -fx-background-radius: 10px;"/>
        </HBox>
    </children>
</AnchorPane>
